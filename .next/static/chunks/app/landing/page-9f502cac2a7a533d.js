(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{4490:(e,t,r)=>{Promise.resolve().then(r.bind(r,5370))},5370:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(5155),s=r(2115);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let m=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:i="",children:m,iconNode:u,...p}=e;return(0,s.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:n?24*Number(l)/Number(a):l,className:o("lucide",i),...!m&&!d(p)&&{"aria-hidden":"true"},...p},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(m)?m:[m]])}),u=(e,t)=>{let r=(0,s.forwardRef)((r,a)=>{let{className:n,...d}=r;return(0,s.createElement)(m,{ref:a,iconNode:t,className:o("lucide-".concat(l(i(e))),"lucide-".concat(e),n),...d})});return r.displayName=i(e),r},p=u("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),h=u("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),x=u("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function f(){let[e,t]=(0,s.useState)([{id:"1",text:"Hey! I'm your prediction market advisor. Tell me about a bet you're thinking of making, like 'I want to short SHIBA' and I'll analyze it for you!",sender:"bot",timestamp:null}]),[r,l]=(0,s.useState)(""),[n,i]=(0,s.useState)(!1);async function o(){let e=await fetch("/api/nodit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_blockNumber",params:[],id:1})});return await e.json()}async function d(e){let t=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,priceToken:{}[e]||e,marketProbability:.55,botProbability:.6,marketOdds:1.8,bankroll:1e3,priceHistory:[1.7,1.8,2.1]})});return await t.json()}let c=async()=>{let e;if(!r.trim())return;let a={id:Date.now().toString(),text:r,sender:"user",timestamp:new Date};t(e=>[...e,a]),l(""),i(!0);let s=r.toLowerCase();try{let{action:a,token:l}=function(e){let t=["long","short","buy","sell","longing","shorting"],r=["SOL","ETH","BTC","AVAX","USDT","USDC","BNB","DOGE","MATIC","ADA","BONK","PEPE","TON","SHIBA","PENGU","PUMP","HYPE"],a=e.toUpperCase().split(/\s+/),s=null,l=null;for(let e=0;e<a.length;e++){let n=a[e].toLowerCase();t.includes(n)?(s=n,e+1<a.length&&r.includes(a[e+1])&&(l=a[e+1])):r.includes(a[e])&&(l=a[e])}return{action:s,token:l}}(r);if(s.includes("block number")){let t=await o();e={id:(Date.now()+1).toString(),text:"Avalanche Fuji block number: ".concat(t.result),sender:"bot",timestamp:new Date}}else if(a&&l){let t=await d(l);e={id:(Date.now()+2).toString(),text:"You want to ".concat(a," ").concat(l,".\n")+(t.price?"Current price: $".concat(t.price,"\n"):"")+"Here's my analysis of your bet:\n\n"+" Trend (7d): ".concat(t.trendAdvice,"\n")+" Sentiment: ".concat(t.sentimentAdvice),sender:"bot",timestamp:new Date}}else e={id:(Date.now()+3).toString(),text:"I'm not sure how to help with that yet. Try asking for the block number or tell me if you want to go long or short on a token!",sender:"bot",timestamp:new Date};t(t=>[...t,e])}catch(e){t(e=>[...e,{id:(Date.now()+4).toString(),text:"Sorry, something went wrong while processing your request. Please try again or rephrase your question.",sender:"bot",timestamp:new Date}])}i(!1)};return(0,s.useEffect)(()=>{t(e=>e.map(e=>null===e.timestamp?{...e,timestamp:new Date}:e))},[]),(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-emerald-900 flex flex-col",children:[(0,a.jsx)("div",{className:"bg-purple-800/50 backdrop-blur-sm border-b border-purple-600/30 p-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-emerald-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(p,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-white font-bold text-lg",children:"I am your Prediction companion\uD83E\uDDBE"}),(0,a.jsx)("p",{className:"text-purple-200 text-sm",children:"Are you ready to take a bet?"})]})]})}),(0,a.jsxs)("div",{className:"flex-1 max-w-4xl mx-auto w-full p-4 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4",children:[e.map(e=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,a.jsx)("div",{className:"max-w-[80%] rounded-2xl px-4 py-3 ".concat("user"===e.sender?"bg-gradient-to-r from-purple-600 to-purple-700 text-white":"bg-gradient-to-r from-emerald-600/80 to-emerald-700/80 text-white"),children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:["bot"===e.sender&&(0,a.jsx)(p,{className:"w-5 h-5 text-emerald-200 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:e.text}),(0,a.jsx)("p",{className:"text-xs opacity-70 mt-1",children:e.timestamp?e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),"user"===e.sender&&(0,a.jsx)(h,{className:"w-5 h-5 text-purple-200 mt-0.5 flex-shrink-0"})]})})},e.id)),n&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-emerald-600/80 to-emerald-700/80 text-white rounded-2xl px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{className:"w-5 h-5 text-emerald-200"}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-emerald-200 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-emerald-200 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-emerald-200 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})})]}),(0,a.jsx)("div",{className:"bg-purple-800/30 backdrop-blur-sm rounded-2xl p-4 border border-purple-600/30",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsx)("textarea",{value:r,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),c())},placeholder:"Tell me about your bet... e.g., 'I want to short SOL at $150'",className:"w-full bg-purple-900/50 border border-purple-600/30 rounded-xl px-4 py-3 text-white placeholder-purple-300 resize-none focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:2,disabled:n})}),(0,a.jsx)("button",{onClick:c,disabled:!r.trim()||n,className:"bg-gradient-to-r from-purple-600 to-emerald-600 hover:from-purple-700 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl px-6 py-3 flex items-center gap-2 transition-all duration-200 transform hover:scale-105",children:(0,a.jsx)(x,{className:"w-5 h-5"})})]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(4490)),_N_E=e.O()}]);